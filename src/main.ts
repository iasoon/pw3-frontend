import { createApp } from 'vue'
import App from './App.vue';
import router from './router';
import store from './store';
import './index.css'
import { socket } from './websocket';
import init, {Game} from 'planetwars';

init().then(m => {
    console.log("Wasm loaded, let's start the app")
    console.log(
        Game.new('{"planets": [{"ship_count": 7, "x": 12.0, "y": 3.0, "owner": 2, "name": "PIET4+1"}, {"ship_count": 6, "x": 15.0, "y": 3.0, "owner": null, "name": "PIET5+1"}, {"ship_count": 6, "x": 18.0, "y": 3.0, "owner": null, "name": "PIET6+1"}, {"ship_count": 6, "x": 9.0, "y": 6.0, "owner": null, "name": "PIET3+2"}, {"ship_count": 6, "x": 15.0, "y": 6.0, "owner": null, "name": "PIET5+2"}, {"ship_count": 6, "x": 21.0, "y": 6.0, "owner": null, "name": "PIET7+2"}, {"ship_count": 6, "x": 9.0, "y": 9.0, "owner": null, "name": "PIET3+3"}, {"ship_count": 6, "x": 24.0, "y": 9.0, "owner": null, "name": "PIET8+3"}, {"ship_count": 6, "x": 9.0, "y": 12.0, "owner": null, "name": "PIET3+4"}, {"ship_count": 6, "x": 27.0, "y": 12.0, "owner": null, "name": "PIET9+4"}, {"ship_count": 6, "x": 12.0, "y": 15.0, "owner": null, "name": "PIET4+5"}, {"ship_count": 6, "x": 15.0, "y": 15.0, "owner": null, "name": "PIET5+5"}, {"ship_count": 6, "x": 18.0, "y": 15.0, "owner": null, "name": "PIET6+5"}, {"ship_count": 6, "x": 21.0, "y": 15.0, "owner": null, "name": "PIET7+5"}, {"ship_count": 6, "x": 24.0, "y": 15.0, "owner": null, "name": "PIET8+5"}, {"ship_count": 6, "x": 27.0, "y": 15.0, "owner": null, "name": "PIET9+5"}, {"ship_count": 6, "x": 12.0, "y": 18.0, "owner": null, "name": "PIET4+6"}, {"ship_count": 6, "x": 30.0, "y": 18.0, "owner": null, "name": "PIET10+6"}, {"ship_count": 6, "x": 15.0, "y": 21.0, "owner": null, "name": "PIET5+7"}, {"ship_count": 6, "x": 33.0, "y": 21.0, "owner": null, "name": "PIET11+7"}, {"ship_count": 6, "x": 15.0, "y": 24.0, "owner": null, "name": "PIET5+8"}, {"ship_count": 6, "x": 36.0, "y": 24.0, "owner": null, "name": "PIET12+8"}, {"ship_count": 6, "x": 39.0, "y": 24.0, "owner": null, "name": "PIET13+8"}, {"ship_count": 6, "x": 18.0, "y": 27.0, "owner": null, "name": "PIET6+9"}, {"ship_count": 6, "x": 42.0, "y": 27.0, "owner": null, "name": "PIET14+9"}, {"ship_count": 6, "x": 21.0, "y": 30.0, "owner": null, "name": "PIET7+10"}, {"ship_count": 6, "x": 45.0, "y": 30.0, "owner": null, "name": "PIET15+10"}, {"ship_count": 6, "x": 24.0, "y": 33.0, "owner": null, "name": "PIET8+11"}, {"ship_count": 6, "x": 27.0, "y": 33.0, "owner": null, "name": "PIET9+11"}, {"ship_count": 6, "x": 48.0, "y": 33.0, "owner": null, "name": "PIET16+11"}, {"ship_count": 6, "x": 21.0, "y": 36.0, "owner": null, "name": "PIET7+12"}, {"ship_count": 6, "x": 30.0, "y": 36.0, "owner": null, "name": "PIET10+12"}, {"ship_count": 6, "x": 48.0, "y": 36.0, "owner": null, "name": "PIET16+12"}, {"ship_count": 6, "x": 18.0, "y": 39.0, "owner": null, "name": "PIET6+13"}, {"ship_count": 6, "x": 48.0, "y": 39.0, "owner": null, "name": "PIET16+13"}, {"ship_count": 6, "x": 18.0, "y": 42.0, "owner": null, "name": "PIET6+14"}, {"ship_count": 7, "x": 48.0, "y": 42.0, "owner": 1, "name": "PIET16+14"}, {"ship_count": 6, "x": 21.0, "y": 45.0, "owner": null, "name": "PIET7+15"}, {"ship_count": 6, "x": 27.0, "y": 45.0, "owner": null, "name": "PIET9+15"}, {"ship_count": 6, "x": 48.0, "y": 45.0, "owner": null, "name": "PIET16+15"}, {"ship_count": 6, "x": 21.0, "y": 48.0, "owner": null, "name": "PIET7+16"}, {"ship_count": 6, "x": 24.0, "y": 48.0, "owner": null, "name": "PIET8+16"}, {"ship_count": 6, "x": 27.0, "y": 48.0, "owner": null, "name": "PIET9+16"}, {"ship_count": 6, "x": 45.0, "y": 48.0, "owner": null, "name": "PIET15+16"}, {"ship_count": 6, "x": 48.0, "y": 48.0, "owner": null, "name": "PIET16+16"}, {"ship_count": 6, "x": 30.0, "y": 51.0, "owner": null, "name": "PIET10+17"}, {"ship_count": 6, "x": 42.0, "y": 51.0, "owner": null, "name": "PIET14+17"}, {"ship_count": 6, "x": 45.0, "y": 51.0, "owner": null, "name": "PIET15+17"}, {"ship_count": 6, "x": 33.0, "y": 54.0, "owner": null, "name": "PIET11+18"}, {"ship_count": 6, "x": 36.0, "y": 54.0, "owner": null, "name": "PIET12+18"}, {"ship_count": 6, "x": 39.0, "y": 54.0, "owner": null, "name": "PIET13+18"}, {"ship_count": 6, "x": 42.0, "y": 54.0, "owner": null, "name": "PIET14+18"}], "expeditions": []}')
    );
    socket.onerror = (ev) => {
        console.log(ev);
    }

    createApp(App).use(router).use(store).mount('#app')
});
